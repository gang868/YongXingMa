<!--index.wxml-->
<view class="page">
  <view class="weui-form">
    <view class="weui-form__text-area" wx:if="{{!userInfo}}">
      <button class="weui-btn weui-btn_primary" bindtap="getUserInfo">微信账号注册</button>
    </view>
    <view wx:else>
      <view class="weui-form__text-area">
        <view wx:if="{{!hasActiveApplication}}">
          <view class="weui-btn weui-btn_primary" bindtap="apply">发起申请</view>
        </view>
        <view wx:if="{{hasActiveApplication}}">
          <h2 class="weui-form__title">申请待审核</h2>
        </view>
      </view>
      <view class="weui-form__control-area">
        <view class="weui-cells__group weui-cells__group_form">
          <view class="weui-cells__title">申请记录</view>
          <view class="weui-cells">
            <view class="weui-cell weui-cell_access" hover-class="weui-cell_active" wx:key="title" wx:for="{{applicationInfo.applicationList}}" wx:for-item="item" bindtap="viewApplicationInfo" data-index="{{index}}">
              <view class="weui-cell__bd">{{item.date}} {{item.name}}</view>
              <view class="weui-cell__ft">{{item.status}}</view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>